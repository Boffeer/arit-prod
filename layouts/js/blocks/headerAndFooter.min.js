"use strict";function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return u=e.done,e},e:function(e){i=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}if(window.innerWidth<1200){var burger=document.querySelector(".burger"),burgerMenu=document.querySelector(".burger-menu"),isBurgerShown=!1,burgerContent=[".socials",".header-email",".header-phone",".header_get-consult"];document.querySelector(".burger-nav").appendChild(document.querySelector(".nav-list")),burgerContent.map((function(e){document.querySelector(".burger-contacts").appendChild(document.querySelector(e))}));var showBurger=function(){burger.classList.add("burger--shown"),burgerMenu.classList.add("burger-menu--shown"),isBurgerShown=!0,document.querySelector("html").classList.add("pop-opened--html"),document.querySelector(".header-wrapper").classList.add("header--burger-shown")},hideBurger=function(){burger.classList.remove("burger--shown"),burgerMenu.classList.remove("burger-menu--shown"),isBurgerShown=!1,document.querySelector("html").classList.remove("pop-opened--html"),document.querySelector(".header").classList.remove("header--burger-shown")};burger.addEventListener("click",(function(){isBurgerShown?hideBurger():showBurger()}))}popa({clickTrigger:".header_get-consult",popWrap:".consult-pop-wrap",pop:".consult-pop",popCloser:".pop-closer"}),popa({clickTrigger:".footer_get-contacts",popWrap:".consult-pop-wrap",pop:".consult-pop",popCloser:".pop-closer"});var offsetOld,offsetNew,header=document.querySelector(".header-wrapper");if(document.addEventListener("scroll",(function(){(offsetNew=window.pageYOffset)<offsetOld&&null!=offsetOld?(console.log("Шапка появилась"),setTimeout((function(){header.classList.remove("header--hidden"),header.classList.add("header--visible")}),500)):setTimeout((function(){header.classList.remove("header--visible"),header.classList.add("header--hidden")}),100),offsetOld=window.pageYOffset})),setTimeout((function(){_toConsumableArray(document.querySelectorAll(".input--phone")).map((function(e){e.addEventListener("keydown",(function(e){"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key&&"Tab"!=e.key&&e.preventDefault();var r="+7 (111) 111-11-11";if(/[0-9\+\ \-\(\)]/.test(e.key)){var t=this.value,o=t.length;if(/[0-9]/.test(e.key))if("1"==r[o])this.value=t+e.key;else for(var n=o;n<r.length;n++){if("1"==r[n]){this.value=t+e.key;break}t+=r[n]}}}))}))}),3e3),window.innerWidth<1200){var footer=document.querySelector(".footer");footer.appendChild(document.querySelector(".footer-copyright")),document.querySelector(".footer-top__content").appendChild(footer.querySelector(".footer-contact--phone")),document.querySelector(".footer-top__content").appendChild(footer.querySelector(".footer_get-contacts")),document.querySelector(".footer-copyright").removeChild(footer.querySelector(".footer-copyright br"))}var lazyYmap=function(){document.querySelector(".form-map");var e=!1;!function(){if(!e){var r=document.querySelector(".ym-lazy");e=!0,r.setAttribute("src",r.getAttribute("data-src")),r.removeAttribute("data_src"),console.log("Ym loaded")}}()};setTimeout((function(){lazyYmap()}),mapsDelay);var _step,anchors=document.querySelectorAll('a[href*="#"]'),_iterator=_createForOfIteratorHelper(anchors);try{var _loop=function(){var e=_step.value;e.addEventListener("click",(function(r){r.preventDefault();var t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}))};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(e){_iterator.e(e)}finally{_iterator.f()}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2Nrcy9oZWFkZXJBbmRGb290ZXIuanMiXSwibmFtZXMiOlsiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibGVuZ3RoIiwiaSIsIkYiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImUiLCJfZSIsImYiLCJUeXBlRXJyb3IiLCJlcnIiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwic3RlcCIsIm5leHQiLCJfZTIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiaXRlciIsImxlbiIsImFycjIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyTWVudSIsImlzQnVyZ2VyU2hvd24iLCJidXJnZXJDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJtYXAiLCJpdGVtIiwic2hvd0J1cmdlciIsImNsYXNzTGlzdCIsImFkZCIsImhpZGVCdXJnZXIiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicG9wYSIsImNsaWNrVHJpZ2dlciIsInBvcFdyYXAiLCJwb3AiLCJwb3BDbG9zZXIiLCJvZmZzZXRPbGQiLCJvZmZzZXROZXciLCJoZWFkZXIiLCJwYWdlWU9mZnNldCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJzZXRUaW1lb3V0IiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJtYXNrIiwiY3VycmVudFN0cmluZyIsInRoaXMiLCJjdXJyZW50TGVuZ3RoIiwiZm9vdGVyIiwicmVtb3ZlQ2hpbGQiLCJsYXp5WW1hcCIsIm1hcExvYWRlZCIsIm1hcEJsb2NrIiwic2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic3RhcnRMYXp5TWFwIiwibWFwc0RlbGF5IiwiX3N0ZXAiLCJhbmNob3JzIiwiX2l0ZXJhdG9yIiwiX2xvb3AiLCJhbmNob3IiLCJibG9ja0lEIiwic3Vic3RyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsMkJBQTJCQyxFQUFHQyxHQUFrQixJQUFJQyxFQUFJLEdBQXNCLG9CQUFYQyxRQUFnRCxNQUF0QkgsRUFBRUcsT0FBT0MsVUFBbUIsQ0FBRSxHQUFJQyxNQUFNQyxRQUFRTixLQUFPRSxFQUFLSyw0QkFBNEJQLEtBQU9DLEdBQWtCRCxHQUF5QixpQkFBYkEsRUFBRVEsT0FBcUIsQ0FBTU4sSUFBSUYsRUFBSUUsR0FBSSxJQUFJTyxFQUFJLEVBQU9DLEVBQUksYUFBaUIsTUFBTyxDQUFFQyxFQUFHRCxFQUFHRSxFQUFHLFdBQWUsT0FBSUgsR0FBS1QsRUFBRVEsT0FBZSxDQUFFSyxNQUFNLEdBQWUsQ0FBRUEsTUFBTSxFQUFPQyxNQUFPZCxFQUFFUyxPQUFXTSxFQUFHLFNBQVdDLEdBQU0sTUFBTUEsR0FBT0MsRUFBR1AsR0FBTyxNQUFNLElBQUlRLFVBQVUseUlBQTRJLElBQTZDQyxFQUF6Q0MsR0FBbUIsRUFBTUMsR0FBUyxFQUFZLE1BQU8sQ0FBRVYsRUFBRyxXQUFlVCxFQUFLRixFQUFFRyxPQUFPQyxhQUFnQlEsRUFBRyxXQUFlLElBQUlVLEVBQU9wQixFQUFHcUIsT0FBc0MsT0FBOUJILEVBQW1CRSxFQUFLVCxLQUFhUyxHQUFTUCxFQUFHLFNBQVdTLEdBQU9ILEdBQVMsRUFBTUYsRUFBTUss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QUFjLFlBQ3RDcUMsR0FBWSxFQUNaQyxFQUFTQyxhQUFhLE1BQU9ELEVBQVNFLGFBQWEsYUFDbkRGLEVBQVNHLGdCQUFnQixZQUN6QmxCLFFBQVFDLElBQUksY0FHZGtCLElBR0FqQixZQUFXLFdBQ1ZXLGFBQ0VPLFdBU0osSUFHSUMsTUFIRUMsUUFBVTlDLFNBQVMyQixpQkFBaUIsZ0JBRXRDb0IsVUFBWS9GLDJCQUFHOEYsU0FHbkIsSUFDRSxJQUFJRSxNQUFRLFdBQ1YsSUFMS0MsRUFLUUosTUFBTTlFLE1BSnRCa0YsRUFBT3BDLGlCQUFpQixTQUFTLFNBQVU3QyxHQUMxQ0EsRUFBRThELGlCQUNGLElBQU1vQixFQUFVRCxFQUFPUixhQUFhLFFBQVFVLE9BQU8sR0FDbkRuRCxTQUFTb0QsZUFBZUYsR0FBU0csZUFBZSxDQUM3Q0MsU0FBVSxTQUNWQyxNQUFPLGNBTlosSUFBQVIsVUFBQW5GLE1BQUFpRixNQUFBRSxVQUFBbEYsS0FBQUMsTUFBNEJrRixRQW1CMUIsTUFBTzVFLEdBQ1AyRSxVQUFVL0UsRUFBRUksR0FDWixRQUNBMkUsVUFBVTdFIiwiZmlsZSI6ImJsb2Nrcy9oZWFkZXJBbmRGb290ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAod2luZG93LmlubmVyV2lkdGggPCAxMjAwKXtcblx0bGV0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXInKTtcblx0bGV0IGJ1cmdlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLW1lbnUnKTtcblx0bGV0IGlzQnVyZ2VyU2hvd24gPSBmYWxzZTtcblx0bGV0IGJ1cmdlckNvbnRlbnQgPSBbJy5zb2NpYWxzJywgJy5oZWFkZXItZW1haWwnLCAnLmhlYWRlci1waG9uZScsICcuaGVhZGVyX2dldC1jb25zdWx0JywgJy5oZWFkZXItbG9nby1kZXNjcmlwdG9yJ107XG5cblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1uYXYnKS5hcHBlbmRDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxpc3QnKSlcblx0YnVyZ2VyQ29udGVudC5tYXAoaXRlbSA9PiB7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1jb250YWN0cycpLmFwcGVuZENoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaXRlbSkpXG5cdH0pXG5cblxuXHRjb25zdCBzaG93QnVyZ2VyID0gKCkgPT4ge1xuXHRcdGJ1cmdlci5jbGFzc0xpc3QuYWRkKCdidXJnZXItLXNob3duJyk7XG5cdFx0YnVyZ2VyTWVudS5jbGFzc0xpc3QuYWRkKCdidXJnZXItbWVudS0tc2hvd24nKTtcblx0XHRpc0J1cmdlclNob3duID0gdHJ1ZTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuY2xhc3NMaXN0LmFkZCgncG9wLW9wZW5lZC0taHRtbCcpO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItd3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci0tYnVyZ2VyLXNob3duJyk7XG5cdH1cblxuXHRjb25zdCBoaWRlQnVyZ2VyID0gKCkgPT4ge1xuXHRcdGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItLXNob3duJyk7XG5cdFx0YnVyZ2VyTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItbWVudS0tc2hvd24nKTtcblx0XHRpc0J1cmdlclNob3duID0gZmFsc2U7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcC1vcGVuZWQtLWh0bWwnKTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLS1idXJnZXItc2hvd24nKTtcblx0fVxuXG5cdGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdFx0IWlzQnVyZ2VyU2hvd25cblx0XHRcdD8gc2hvd0J1cmdlcigpXG5cdFx0XHQ6IGhpZGVCdXJnZXIoKVxuXHR9KVxufVxuXG5wb3BhKHtcblx0Y2xpY2tUcmlnZ2VyOiAnLmhlYWRlcl9nZXQtY29uc3VsdCcsXG5cdHBvcFdyYXA6ICcuY29uc3VsdC1wb3Atd3JhcCcsXG5cdHBvcDogJy5jb25zdWx0LXBvcCcsXG5cdHBvcENsb3NlcjogJy5wb3AtY2xvc2VyJyxcbn0pXG5wb3BhKHtcblx0Y2xpY2tUcmlnZ2VyOiAnLmZvb3Rlcl9nZXQtY29udGFjdHMnLFxuXHRwb3BXcmFwOiAnLmNvbnN1bHQtcG9wLXdyYXAnLFxuXHRwb3A6ICcuY29uc3VsdC1wb3AnLFxuXHRwb3BDbG9zZXI6ICcucG9wLWNsb3NlcicsXG59KVxuXG5cblxuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci13cmFwcGVyJylcblxubGV0IG9mZnNldE9sZFxubGV0IG9mZnNldE5ld1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oKXtcblx0b2Zmc2V0TmV3ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXHRpZiAoKG9mZnNldE5ldyA8IG9mZnNldE9sZCkgJiYgb2Zmc2V0T2xkICE9IHVuZGVmaW5lZCkge1xuXHRcdGNvbnNvbGUubG9nKCfQqNCw0L/QutCwINC/0L7Rj9Cy0LjQu9Cw0YHRjCcpXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0aGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci0taGlkZGVuJylcblx0XHRcdGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXItLXZpc2libGUnKVxuXHRcdH0sIDUwMClcblx0fSBlbHNlIHtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGVhZGVyLS12aXNpYmxlJylcblx0XHRcdGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXItLWhpZGRlbicpXG5cdFx0fSwgMTAwKVxuXHR9XG5cdG9mZnNldE9sZCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbn0pXG5cblxuXG5cbnNldFRpbWVvdXQoKCkgPT4ge1xuXHRsZXQgcGhvbmVJbnB1dCA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQtLXBob25lJyldO1xuXG5cdHBob25lSW5wdXQubWFwKGl0ZW0gPT4ge1xuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdGlmICghKGV2ZW50LmtleSA9PSAnQXJyb3dMZWZ0JyB8fCBldmVudC5rZXkgPT0gJ0Fycm93UmlnaHQnIHx8IGV2ZW50LmtleSA9PSAnQmFja3NwYWNlJyB8fCBldmVudC5rZXkgPT0gJ1RhYicpKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdH1cblx0XHRcdGxldCBtYXNrID0gJys3ICgxMTEpIDExMS0xMS0xMSc7XG5cdFx0XHRpZiAoL1swLTlcXCtcXCBcXC1cXChcXCldLy50ZXN0KGV2ZW50LmtleSkpIHtcblx0XHRcdFx0bGV0IGN1cnJlbnRTdHJpbmcgPSB0aGlzLnZhbHVlO1xuXHRcdFx0XHRsZXQgY3VycmVudExlbmd0aCA9IGN1cnJlbnRTdHJpbmcubGVuZ3RoO1xuXHRcdFx0XHRpZiAoL1swLTldLy50ZXN0KGV2ZW50LmtleSkpIHtcblx0XHRcdFx0XHRpZiAobWFza1tjdXJyZW50TGVuZ3RoXSA9PSAnMScpIHtcblx0XHRcdFx0XHRcdHRoaXMudmFsdWUgPSBjdXJyZW50U3RyaW5nICsgZXZlbnQua2V5O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gY3VycmVudExlbmd0aDsgaSA8IG1hc2subGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0aWYgKG1hc2tbaV0gPT0gJzEnKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy52YWx1ZSA9IGN1cnJlbnRTdHJpbmcgKyBldmVudC5rZXk7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y3VycmVudFN0cmluZyArPSBtYXNrW2ldXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fSlcbn0sIDMwMDApXG5cblxuXG5pZiAod2luZG93LmlubmVyV2lkdGggPCAxMjAwKXtcblx0Ly8gTW9iaWxlIGZvb3RlciByZWZvcm1pbmdcblx0bGV0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXInKTtcblx0Zm9vdGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXItY29weXJpZ2h0JykpO1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLXRvcF9fY29udGVudCcpLmFwcGVuZENoaWxkKGZvb3Rlci5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLWNvbnRhY3QtLXBob25lJykpO1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyLXRvcF9fY29udGVudCcpLmFwcGVuZENoaWxkKGZvb3Rlci5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX2dldC1jb250YWN0cycpKTtcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci1jb3B5cmlnaHQnKS5yZW1vdmVDaGlsZChmb290ZXIucXVlcnlTZWxlY3RvcignLmZvb3Rlci1jb3B5cmlnaHQgYnInKSlcbn1cblxuXG4vLyBNYXBcbmNvbnN0IGxhenlZbWFwID0gKCkgPT4ge1xuXHRsZXQgbWFwQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tbWFwJyk7XG5cdGxldCBvcHRpb25zTWFwID0ge1xuXHRcdG9uY2U6IHRydWUsXG5cdFx0cGFzc2l2ZTogdHJ1ZSxcblx0XHRjYXB0dXJlOiB0cnVlXG5cdH07XG5cdC8vIG1hcENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycpXG5cblx0bGV0IG1hcExvYWRlZCA9IGZhbHNlO1xuXHRmdW5jdGlvbiBzdGFydExhenlNYXAoKXtcblx0XHRpZiAoIW1hcExvYWRlZCkge1xuXHRcdFx0bGV0IG1hcEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnltLWxhenknKTtcblx0XHRcdG1hcExvYWRlZCA9IHRydWU7XG5cdFx0XHRtYXBCbG9jay5zZXRBdHRyaWJ1dGUoJ3NyYycsIG1hcEJsb2NrLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSk7XG5cdFx0XHRtYXBCbG9jay5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGFfc3JjJyk7XG5cdFx0XHRjb25zb2xlLmxvZygnWW0gbG9hZGVkJylcblx0XHR9XG5cdH1cblx0c3RhcnRMYXp5TWFwKClcbn1cblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0bGF6eVltYXAoKVxuXHR9LCBtYXBzRGVsYXkpXG5cblxuXG5cblxuXG5cblxuY29uc3QgYW5jaG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZio9XCIjXCJdJylcblxuZm9yIChsZXQgYW5jaG9yIG9mIGFuY2hvcnMpIHtcblx0YW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRjb25zdCBibG9ja0lEID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpLnN1YnN0cigxKVxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJsb2NrSUQpLnNjcm9sbEludG9WaWV3KHtcblx0XHRcdCAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuXHRcdFx0ICBibG9jazogJ3N0YXJ0J1xuXHRcdH0pXG5cdH0pXG59XG5cbiJdfQ==
